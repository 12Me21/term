//////////////////////////////
// (old) Windows 10 terminal
// https://github.com/microsoft/terminal/blob/65bd4e327c3213cac30d360b313ab2e7bf453397/src/types/convert.cpp
// https://raw.githubusercontent.com/microsoft/terminal/429af0e6fa80412f1e9185845d856e3497a6cf78/src/types/CodepointWidthDetector.cpp
// https://raw.githubusercontent.com/microsoft/terminal/429af0e6fa80412f1e9185845d856e3497a6cf78/src/types/GlyphWidth.cpp
function fixRanges(data) {
	var last = 0;
	var out=[];
	for (var i=0;i<data.length;i+=3){
		var start = data[i];
		if (start > last){
			out.push(last, 1);
			out.push(start, data[i+2])
			last = data[i+1]+1;
		}
	}
	var last=undefined;
	var out2=[];
	for(var i=0;i<out.length;i+=2){
		if (out[i+1] != last) {
			console.log("0x"+out[i].toString(16).toUpperCase()+", "+out[i+1]+",")
			out2.push(out[i],out[i+1]);
			last = out[i+1];
		}
	}
	
	return out2;
}

exports.fixRanges = fixRanges;

exports.win10 = [
	0x0020, 0x007E, 1, //ASCII

	0x00A1,0x00A1, 1.5,
	
	0x00A4,0x00A4, 1.5,

	0x00A7, 0x00A8, 1.5,

	0x00AA,0x00AA, 1.5,

	0x00AD, 0x00AE, 1.5,

	0x00B0, 0x00B4, 1.5,

	0x00B6, 0x00BA, 1.5,

	0x00BC, 0x00BF, 1.5,

	0x00C6,0x00C6, 1.5,
	
	0x00D0,0x00D0, 1.5,
	0x00D7, 0x00D8, 1.5,
	0x00DE, 0x00E1, 1.5,
	0x00E6, 0x00E6, 1.5,
	0x00E8, 0x00EA, 1.5,
	0x00EC, 0x00ED, 1.5,
	0x00F0, 0x00F0, 1.5,
	0x00F2, 0x00F3, 1.5,
	0x00F7, 0x00FA, 1.5,
	0x00FC, 0x00FC, 1.5,
	0x00FE, 0x00FE, 1.5,
	0x0101, 0x0101, 1.5,
	0x0111, 0x0111, 1.5,
	0x0113, 0x0113, 1.5,
	0x011B, 0x011B, 1.5,
	0x0126, 0x0127, 1.5,
	0x012B, 0x012B, 1.5,
	0x0131, 0x0133, 1.5,
	0x0138, 0x0138, 1.5,
	0x013F, 0x0142, 1.5,
	0x0144, 0x0144, 1.5,
	0x0148, 0x014B, 1.5,
	0x014D, 0x014D, 1.5,
	0x0152, 0x0153, 1.5,
	0x0166, 0x0167, 1.5,
	0x016B, 0x016B, 1.5,
	0x01CE, 0x01CE, 1.5,
	0x01D0, 0x01D0, 1.5,
	0x01D2, 0x01D2, 1.5,
	0x01D4, 0x01D4, 1.5,
	0x01D6, 0x01D6, 1.5,
	0x01D8, 0x01D8, 1.5,
	0x01DA, 0x01DA, 1.5,
	0x01DC, 0x01DC, 1.5,
	0x0251, 0x0251, 1.5,
	0x0261, 0x0261, 1.5,
	0x02C4, 0x02C4, 1.5,
	0x02C7, 0x02C7, 1.5,
	0x02C9, 0x02CB, 1.5,
	0x02CD, 0x02CD, 1.5,
	0x02D0, 0x02D0, 1.5,
	0x02D8, 0x02DB, 1.5,
	0x02DD, 0x02DD, 1.5,
	0x02DF, 0x02DF, 1.5,
	0x0300, 0x036F, 1.5,
	0x0391, 0x03A1, 1.5,
	0x03A3, 0x03A9, 1.5,
	0x03B1, 0x03C1, 1.5,
	0x03C3, 0x03C9, 1.5,
	0x0401, 0x0401, 1.5,
	0x0410, 0x044F, 1.5,
	0x0451, 0x0451, 1.5,
	0x0452, 0x10FF, 1,
	0x1100, 0x115F, 2, //Hangul Choseong
	0x1160, 0x200F, 1,
	0x2010, 0x2010, 1.5,

	0x2013, 0x2016, 1.5,
	0x2018, 0x2019, 1.5,
	0x201C, 0x201D, 1.5,
	0x2020, 0x2022, 1.5,
	0x2024, 0x2027, 1.5,
	0x2030, 0x2030, 1.5,
	0x2032, 0x2033, 1.5,
	0x2035, 0x2035, 1.5,
	0x203B, 0x203B, 1.5,
	0x203E, 0x203E, 1.5,
	0x2074, 0x2074, 1.5,
	0x207F, 0x207F, 1.5,
	0x2081, 0x2084, 1.5,
	0x20AC, 0x20AC, 1.5,
	0x2103, 0x2103, 1.5,
	0x2105, 0x2105, 1.5,
	0x2109, 0x2109, 1.5,
	0x2113, 0x2113, 1.5,
	0x2116, 0x2116, 1.5,
	0x2121, 0x2122, 1.5,
	0x2126, 0x2126, 1.5,
	0x212B, 0x212B, 1.5,
	0x2153, 0x2154, 1.5,
	0x215B, 0x215E, 1.5,
	0x2160, 0x216B, 1.5,
	0x2170, 0x2179, 1.5,
	0x2189, 0x2189, 1.5,
	0x2190, 0x2199, 1.5,
	0x21B8, 0x21B9, 1.5,
	0x21D2, 0x21D2, 1.5,
	0x21D4, 0x21D4, 1.5,
	0x21E7, 0x21E7, 1.5,
	0x2200, 0x2200, 1.5,
	0x2202, 0x2203, 1.5,
	0x2207, 0x2208, 1.5,
	0x220B, 0x220B, 1.5,
	0x220F, 0x220F, 1.5,
	0x2211, 0x2211, 1.5,
	0x2215, 0x2215, 1.5,
	0x221A, 0x221A, 1.5,
	0x221D, 0x2220, 1.5,
	0x2223, 0x2223, 1.5,
	0x2225, 0x2225, 1.5,
	0x2227, 0x222C, 1.5,
	0x222E, 0x222E, 1.5,
	0x2234, 0x2237, 1.5,
	0x223C, 0x223D, 1.5,
	0x2248, 0x2248, 1.5,
	0x224C, 0x224C, 1.5,
	0x2252, 0x2252, 1.5,
	0x2260, 0x2261, 1.5,
	0x2264, 0x2267, 1.5,
	0x226A, 0x226B, 1.5,
	0x226E, 0x226F, 1.5,
	0x2282, 0x2283, 1.5,
	0x2286, 0x2287, 1.5,
	0x2295, 0x2295, 1.5,
	0x2299, 0x2299, 1.5,
	0x22A5, 0x22A5, 1.5,
	0x22BF, 0x22BF, 1.5,
	0x2312, 0x2312, 1.5,
	0x231A, 0x231B, 2,
	0x2329, 0x232A, 2,
	0x23E9, 0x23EC, 2,
	0x23F0, 0x23F0, 2,
	0x23F3, 0x23F3, 2,
	0x2460, 0x24E9, 1.5,

	0x24EB, 0x2500-1, 1.5,
	0x2500, 0x259F, 1, //box drawing and block elements (hardcoded to 1)
	0x25A0, 0x25A1, 1.5,
	0x25A3, 0x25A9, 1.5,
	0x25B2, 0x25B3, 1.5,
	0x25B6, 0x25B7, 1.5,
	0x25BC, 0x25BD, 1.5,
	0x25C0, 0x25C1, 1.5,
	0x25C6, 0x25C8, 1.5,
	0x25CB, 0x25CB, 1.5,
	0x25CE, 0x25D1, 1.5,
	0x25E2, 0x25E5, 1.5,
	0x25EF, 0x25EF, 1.5,
	0x25FD, 0x25FE, 2,
	0x2605, 0x2606, 1.5,
	0x2609, 0x2609, 1.5,
	0x260E, 0x260F, 1.5,
	0x2614, 0x2615, 2,
	0x261C, 0x261C, 1.5,
	0x261E, 0x261E, 1.5,
	0x2640, 0x2640, 1.5,
	0x2642, 0x2642, 1.5,
	0x2648, 0x2653, 2,
	0x2660, 0x2661, 1.5,
	0x2663, 0x2665, 1.5,
	0x2667, 0x266A, 1.5,
	0x266C, 0x266D, 1.5,
	0x266F, 0x266F, 1.5,
	0x267F, 0x267F, 2,
	0x2693, 0x2693, 2,
	0x269E, 0x269F, 1.5,
	0x26A1, 0x26A1, 2,
	0x26AA, 0x26AB, 2,
	0x26BD, 0x26BE, 2,
	0x26BF, 0x26BF, 1.5,
	0x26C4, 0x26C5, 2,
	0x26C6, 0x26CD, 1.5,
	0x26CE, 0x26CE, 2,
	0x26CF, 0x26D3, 1.5,
	0x26D4, 0x26D4, 2,
	0x26D5, 0x26E1, 1.5,
	0x26E3, 0x26E3, 1.5,
	0x26E8, 0x26E9, 1.5,
	0x26EA, 0x26EA, 2,
	0x26EB, 0x26F1, 1.5,
	0x26F2, 0x26F3, 2,
	0x26F4, 0x26F4, 1.5,
	0x26F5, 0x26F5, 2,
	0x26F6, 0x26F9, 1.5,
	0x26FA, 0x26FA, 2,
	0x26FB, 0x26FC, 1.5,
	0x26FD, 0x26FD, 2,
	0x26FE, 0x26FF, 1.5,
	0x2705, 0x2705, 2,
	0x270A, 0x270B, 2,
	0x2728, 0x2728, 2,
	0x273D, 0x273D, 1.5,
	0x274C, 0x274C, 2,
	0x274E, 0x274E, 2,
	0x2753, 0x2755, 2,
	0x2757, 0x2757, 2,
	0x2776, 0x277F, 1.5,
	0x2795, 0x2797, 2,
	0x27B0, 0x27B0, 2,
	0x27BF, 0x27BF, 2,
	0x2B1B, 0x2B1C, 2,
	0x2B50, 0x2B50, 2,
	0x2B55, 0x2B55, 2,
	0x2B56, 0x2B59, 1.5,
	0x2B5A, 0x2E44, 1,
	
	
	0x2E80, 0x303E, 2, //for some reason all of these are hardcoded to 2 even though the other table has some as 1
	
	
	0x3041, 0x3096, 2, //Hiragana
	
	0x3099, 0x30FF, 2, //Katakana

	0x3105, 0x312E, 2, //Bopomofo

	0x3131, 0x318E, 2, //Hangul Elements

	0x3190, 0x3247, 2, // more things hardcoded to 2
	0x3248, 0x324F, 1.5,
	
	0x3250, 0x4DBF, 2, //CJK Unified Ideograph and Yi and Reserved.
	0x4DC0, 0x4DFF, 1, //hexagrams
	0x4E00, 0xA4C6, 2, // (except hexagrams) (more 2)
	0xA4D0, 0xA960-1, 1,
	0xA960, 0xA97C, 2, //Hangul Choseong
	0xA97C+1, 0xABF9, 1,
	0xAC00, 0xD7A3, 2, //Korean Hangul Syllables

	0xD7B0, 0xD7FB, 1, //Hangul Jungseong and Hangul Jongseong
	//0xD800-0xDFFF - surrogate pairs
	0xE000, 0xF8FF, 1.5, // Private Use
	0xF900, 0xFAFF, 2, //CJK Compatibility Ideographs
	0xFB00, 0xFDFD, 1,

	0xFE00, 0xFE0F, 1.5,
	0xFE10, 0xFE19, 2, //Presentation forms
	0xFE20, 0xFE2F, 1, //narrow combining ligatures
	0xFE30, 0xFE6B, 2, //Presentation forms (more hardcoded to 2)
	
	0xFE70, 0xFEFF, 1,

	0xFF01, 0xFF60, 2, //Fullwidth ASCII variants
	0xFF61, 0xFF9F, 1, //Halfwidth Katakana variants
	0xFFA0, 0xFFBE, 1, //Halfwidth Hangul variants

	0xFFC2, 0xFFC7, 1, //Halfwidth Hangul variants

	0xFFCA, 0xFFCF, 1, //Halfwidth Hangul variants

	0xFFD2, 0xFFD7, 1, //Halfwidth Hangul variants

	0xFFDA, 0xFFDC, 1, //Halfwidth Hangul variants

	0xFFE0, 0xFFE6, 2, //Fullwidth symbol variants

	0xFFFD,0xFFFD, 1.5,
	
	// astral plane chars (but the terminal uses UCS-2 lol)
	/*
	0x16FE0, 0x16FE1, 2,
	0x17000, 0x187EC, 2,
	0x18800, 0x18AF2, 2,
	0x1B000, 0x1B11E, 2,
	0x1B170, 0x1B2FB, 2,
	0x1F004, 0x1F004, 2,
	0x1F0CF, 0x1F0CF, 2,
	0x1F100, 0x1F10A, 1.5,
	0x1F110, 0x1F12D, 1.5,
	0x1F130, 0x1F169, 1.5,
	0x1F170, 0x1F18D, 1.5,
	0x1F18E, 0x1F18E, 2,
	0x1F18F, 0x1F190, 1.5,
	0x1F191, 0x1F19A, 2,
	0x1F19B, 0x1F1AC, 1.5,
	0x1F200, 0x1F202, 2,
	0x1f210, 0x1F23B, 2,
	0x1F240, 0x1F248, 2,
	0x1F250, 0x1F251, 2,
	0x1F260, 0x1F265, 2,
	0x1F300, 0x1F320, 2,
	0x1F32D, 0x1F335, 2,
	0x1F337, 0x1F37C, 2,
	0x1F37E, 0x1F393, 2,
	0x1F3A0, 0x1F3CA, 2,
	0x1F3CF, 0x1F3D3, 2,
	0x1F3E0, 0x1F3F0, 2,
	0x1F3F4, 0x1F3F4, 2,
	0x1F3F8, 0x1F43E, 2,
	0x1F440, 0x1F440, 2,
	0x1F442, 0x1F4FC, 2,
	0x1F4FF, 0x1F53D, 2,
	0x1F54B, 0x1F54E, 2,
	0x1F550, 0x1F567, 2,
	0x1F57A, 0x1F57A, 2,
	0x1F595, 0x1F596, 2,
	0x1F5A4, 0x1F5A4, 2,
	0x1F5FB, 0x1F64F, 2,
	0x1F680, 0x1F6C5, 2,
	0x1F6CC, 0x1F6CC, 2,
	0x1F6D0, 0x1F6D2, 2,
	0x1F6EB, 0x1F6EC, 2,
	0x1F6F4, 0x1F6F8, 2,
	0x1F910, 0x1F93E, 2,
	0x1F940, 0x1F94C, 2,
	0x1F950, 0x1F96B, 2,
	0x1F980, 0x1F997, 2,
	0x1F9C0, 0x1F9C0, 2,
	0x1F9D0, 0x1F9E6, 2,
	0x20000, 0x2FFFD, 2,
	0x30000, 0x3FFFD, 2,
	0xE0100, 0xE01EF, 1.5,
	0xF0000, 0xFFFFD, 1.5,
	0x100000, 0x10FFFD, 1.5,*/
];
